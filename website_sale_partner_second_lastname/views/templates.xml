<?xml version="1.0" encoding="utf-8" ?>
<!--
    Copyright 2023 Manuel Regidor <manuel.regidor@sygel.es>
    License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl.html).
-->
<odoo>
    <template
        id="website_sale_partner_second_lastname_address"
        inherit_id="website_sale.address"
    >
        <xpath expr="//input[@name='lastname']/.." position="after">
            <t t-set='name_no_edit' t-value="(mode == ('edit', 'billing') and 'vat' in checkout and checkout['vat'] and not can_edit_vat and mode) or (mode == ('edit', 'shipping') and 'parent_id' in checkout and checkout['parent_id'] and not checkout['parent_id'].can_edit_vat())" />
            <div t-attf-class="form-group #{error.get('lastname2') and 'o_has_error' or ''} col-lg-6 div_lastname2">
                <label class="col-form-label" for="name">Second Lastname</label>
                <input type="text" name="lastname2" t-attf-class="form-control #{error.get('lastname2') and 'is-invalid' or ''}" t-att-value="'lastname2' in checkout and checkout['lastname2']" t-att-readonly="'1' if name_no_edit else None" />
            </div>
        </xpath>
    </template>
</odoo>
